<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number to Distance Converter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .converter-container {
            background-color: #f5f5f5;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .input-section, .sequence-section {
            margin-bottom: 15px;
        }
        .output-section {
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
        }
        .unit-selection {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .unit-item {
            background: white;
            border: 1px solid #ccc;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            user-select: none;
        }
        .unit-item.selected {
            background: #4CAF50;
            color: white;
        }
        .selected-units {
            margin-top: 15px;
            padding: 10px;
            background: #e9e9e9;
            border-radius: 4px;
            min-height: 40px;
        }
        .selected-unit-tag {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            margin: 3px;
            border-radius: 3px;
            cursor: pointer;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        #resultTable {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Number to Distance Converter</h1>
    
    <div class="converter-container">
        <div class="input-section">
            <h2>Enter Your Numbers</h2>
            <p>Type or paste numbers below (comma, space, or newline separated):</p>
            <textarea id="numberInput" rows="4" style="width:100%;"></textarea>
        </div>

        <div class="unit-selection">
            <div class="unit-item" data-unit="meters">Meters</div>
            <div class="unit-item" data-unit="kilometers">Kilometers</div>
            <div class="unit-item" data-unit="miles">Miles</div>
            <div class="unit-item" data-unit="feet">Feet</div>
            <div class="unit-item" data-unit="inches">Inches</div>
            <div class="unit-item" data-unit="yards">Yards</div>
            <div class="unit-item" data-unit="nautical-miles">Nautical Miles</div>
            <!-- add more units here as needed -->
        </div>
        <div class="selected-units" id="selectedUnits"></div>
        <button id="convertBtn">Convert</button>
    </div>

    <div class="output-section">
        <h2>Converted Results</h2>
        <div id="resultTable"></div>
    </div>

    <script>
        // Conversion factors from meters
        const conversionFactors = {
            'meters': 1,
            'kilometers': 0.001,
            'miles': 0.000621371,
            'feet': 3.28084,
            'inches': 39.3701,
            'yards': 1.09361,
            'nautical-miles': 0.000539957
        };

        const unitLabels = {
            'meters': 'Meters',
            'kilometers': 'Kilometers',
            'miles': 'Miles',
            'feet': 'Feet',
            'inches': 'Inches',
            'yards': 'Yards',
            'nautical-miles': 'Nautical Miles'
        };

        const selectedUnits = new Set();

        document.querySelectorAll('.unit-item').forEach(item => {
            item.addEventListener('click', function() {
                const unit = this.getAttribute('data-unit');
                if (selectedUnits.has(unit)) {
                    selectedUnits.delete(unit);
                    this.classList.remove('selected');
                } else {
                    selectedUnits.add(unit);
                    this.classList.add('selected');
                }
                updateSelectedUnitsDisplay();
            });
        });

        function updateSelectedUnitsDisplay() {
            const container = document.getElementById('selectedUnits');
            container.innerHTML = '';
            selectedUnits.forEach(unit => {
                const tag = document.createElement('span');
                tag.className = "selected-unit-tag";
                tag.textContent = unitLabels[unit];
                tag.title = "Click to remove";
                tag.onclick = () => {
                    selectedUnits.delete(unit);
                    document.querySelector(`.unit-item[data-unit="${unit}"]`).classList.remove('selected');
                    updateSelectedUnitsDisplay();
                };
                container.appendChild(tag);
            });
            if (selectedUnits.size === 0) {
                container.innerHTML = "<em>No units selected.</em>";
            }
        }

        document.getElementById('convertBtn').addEventListener('click', function() {
            const input = document.getElementById('numberInput').value;
            const numbers = input
                .split(/[\s,]+/)
                .map(x => x.trim())
                .filter(x => x.length > 0 && !isNaN(x))
                .map(Number);

            if (numbers.length === 0) {
                document.getElementById('resultTable').innerHTML = "<em>Please enter valid numbers.</em>";
                return;
            }
            if (selectedUnits.size === 0) {
                document.getElementById('resultTable').innerHTML = "<em>Please select at least one unit.</em>";
                return;
            }

            let html = `<table><thead><tr><th>Original</th>`;
            selectedUnits.forEach(unit => {
                html += `<th>${unitLabels[unit]}</th>`;
            });
            html += `</tr></thead><tbody>`;

            numbers.forEach(num => {
                html += `<tr><td>${num}</td>`;
                selectedUnits.forEach(unit => {
                    const conv = (num * conversionFactors[unit]).toLocaleString(undefined, {maximumFractionDigits: 6});
                    html += `<td>${conv}</td>`;
                });
                html += `</tr>`;
            });

            html += `</tbody></table>`;
            document.getElementById('resultTable').innerHTML = html;
        });

        // Initial selected units display
        updateSelectedUnitsDisplay();
    </script>
</body>
</html>
